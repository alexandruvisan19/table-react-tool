{"ast":null,"code":"import _createForOfIteratorHelper from\"C:/Users/alex/Desktop/cod/excel-table-tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _slicedToArray from\"C:/Users/alex/Desktop/cod/excel-table-tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OutTable=function OutTable(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),format=_useState2[0],setFormat=_useState2[1];var formatTableHandler=function formatTableHandler(){setFormat(!format);document.querySelectorAll(\"tr:not(table > tbody > tr:nth-child(1))\").forEach(function(e){console.log(e.firstChild.innerHTML===\"\");if(e.children.length>3&&e.firstChild.innerHTML!==\" \"){e.insertAdjacentHTML(\"beforebegin\",\"<tr class='eventDay'><td colspan=\".concat(e.children.length-1,\">\").concat(e.children[0].innerHTML,\"</td><td class='arrow'></td></tr>\"));e.children[0].remove();}else if(e.firstChild.innerHTML!==\"\"){e.children[0].remove();}});document.querySelector(\"table > tbody > tr:nth-child(1) > td:nth-child(1)\").remove();document.querySelectorAll(\"tr:not(table > tbody > tr:nth-child(1))\").forEach(function(e){if(e.children.length>2){e.style.display=\"none\";}});document.querySelector(\"table\").setAttribute(\"id\",\"schedule-table\");var mainTable=document.querySelector(\"table\").outerHTML;var regexString=/<tr class=\"eventDay\">/g;var newString='</tbody><tbody><tr class=\"eventDay\">';var content=mainTable.replace(regexString,newString);document.querySelector(\"table\").outerHTML=content;document.querySelectorAll(\".arrow\").forEach(function(arrow){return arrow.addEventListener(\"click\",function(event){event.target.classList.toggle(\"arrowOn\");var elementParent=event.target.parentNode.parentNode;var elementChildren=elementParent.children;var _iterator=_createForOfIteratorHelper(elementChildren),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var _elem=_step.value;if(_elem.children.length>2){_elem.style.display=\"none\";}}}catch(err){_iterator.e(err);}finally{_iterator.f();}if(event.target.classList.value===\"arrow arrowOn\"){var _iterator2=_createForOfIteratorHelper(elementChildren),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var elem=_step2.value;elem.style.display=\"table-row\";}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}});});};var copyTableHandler=function copyTableHandler(){var copyText=document.querySelector(\"#schedule-table\");navigator.clipboard.writeText(copyText.outerHTML);document.querySelector(\".btn\").innerHTML=\"Copied HTML Table\";};var tooptipHandler=function tooptipHandler(){document.querySelector(\".btn\").innerHTML=\"Copy Table to Clipboard\";};return/*#__PURE__*/_jsxs(_Fragment,{children:[props.data.length>0&&!format&&/*#__PURE__*/_jsx(\"div\",{className:\"format-table-btn\",children:/*#__PURE__*/_jsx(\"button\",{onClick:formatTableHandler,children:\"Format Table\"})}),format&&/*#__PURE__*/_jsx(\"div\",{className:\"copy-table-btn\",children:/*#__PURE__*/_jsx(\"button\",{onMouseOut:tooptipHandler,onClick:copyTableHandler,className:\"btn\",\"data-clipboard-target\":\"#schedule-table\",children:\"Copy Table to Clipboard\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsx(\"tbody\",{children:props.data.map(function(r,i){return/*#__PURE__*/_jsx(\"tr\",{children:props.cols.map(function(c){return/*#__PURE__*/_jsx(\"td\",{className:\"td\",children:r[c.key]},c.key);})},i);})})})})]});};export default OutTable;","map":{"version":3,"sources":["C:/Users/alex/Desktop/cod/excel-table-tool/src/OutTable.js"],"names":["useState","OutTable","props","format","setFormat","formatTableHandler","document","querySelectorAll","forEach","e","console","log","firstChild","innerHTML","children","length","insertAdjacentHTML","remove","querySelector","style","display","setAttribute","mainTable","outerHTML","regexString","newString","content","replace","arrow","addEventListener","event","target","classList","toggle","elementParent","parentNode","elementChildren","elem","value","copyTableHandler","copyText","navigator","clipboard","writeText","tooptipHandler","data","map","r","i","cols","c","key"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\r\n\r\nconst OutTable = (props) => {\r\n\tconst [format, setFormat] = useState(false);\r\n\r\n\tconst formatTableHandler = () => {\r\n\t\tsetFormat(!format);\r\n\t\tdocument.querySelectorAll(\"tr:not(table > tbody > tr:nth-child(1))\").forEach((e) => {\r\n\t\t\tconsole.log(e.firstChild.innerHTML === \"\");\r\n\t\t\tif (e.children.length > 3 && e.firstChild.innerHTML !== \" \") {\r\n\t\t\t\te.insertAdjacentHTML(\r\n\t\t\t\t\t\"beforebegin\",\r\n\t\t\t\t\t`<tr class='eventDay'><td colspan=${e.children.length - 1}>${\r\n\t\t\t\t\t\te.children[0].innerHTML\r\n\t\t\t\t\t}</td><td class='arrow'></td></tr>`\r\n\t\t\t\t);\r\n\t\t\t\te.children[0].remove();\r\n\t\t\t} else if (e.firstChild.innerHTML !== \"\") {\r\n\t\t\t\te.children[0].remove();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.querySelector(\"table > tbody > tr:nth-child(1) > td:nth-child(1)\").remove();\r\n\r\n\t\tdocument.querySelectorAll(\"tr:not(table > tbody > tr:nth-child(1))\").forEach((e) => {\r\n\t\t\tif (e.children.length > 2) {\r\n\t\t\t\te.style.display = \"none\";\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tdocument.querySelector(\"table\").setAttribute(\"id\", \"schedule-table\");\r\n\r\n\t\tlet mainTable = document.querySelector(\"table\").outerHTML;\r\n\t\tlet regexString = /<tr class=\"eventDay\">/g;\r\n\t\tlet newString = '</tbody><tbody><tr class=\"eventDay\">';\r\n\t\tlet content = mainTable.replace(regexString, newString);\r\n\t\tdocument.querySelector(\"table\").outerHTML = content;\r\n\r\n\t\tdocument.querySelectorAll(\".arrow\").forEach((arrow) =>\r\n\t\t\tarrow.addEventListener(\"click\", (event) => {\r\n\t\t\t\tevent.target.classList.toggle(\"arrowOn\");\r\n\t\t\t\tlet elementParent = event.target.parentNode.parentNode;\r\n\t\t\t\tlet elementChildren = elementParent.children;\r\n\t\t\t\tfor (let elem of elementChildren) {\r\n\t\t\t\t\tif (elem.children.length > 2) {\r\n\t\t\t\t\t\telem.style.display = \"none\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (event.target.classList.value === \"arrow arrowOn\") {\r\n\t\t\t\t\tfor (let elem of elementChildren) {\r\n\t\t\t\t\t\telem.style.display = \"table-row\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t);\r\n\t};\r\n\r\n\tconst copyTableHandler = () => {\r\n\t\tconst copyText = document.querySelector(\"#schedule-table\");\r\n\t\tnavigator.clipboard.writeText(copyText.outerHTML);\r\n\t\tdocument.querySelector(\".btn\").innerHTML = \"Copied HTML Table\";\r\n\t};\r\n\r\n\tconst tooptipHandler = () => {\r\n\t\tdocument.querySelector(\".btn\").innerHTML = \"Copy Table to Clipboard\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{props.data.length > 0 && !format && (\r\n\t\t\t\t<div className=\"format-table-btn\">\r\n\t\t\t\t\t<button onClick={formatTableHandler}>Format Table</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t{format && (\r\n\t\t\t\t<div className=\"copy-table-btn\">\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tonMouseOut={tooptipHandler}\r\n\t\t\t\t\t\tonClick={copyTableHandler}\r\n\t\t\t\t\t\tclassName=\"btn\"\r\n\t\t\t\t\t\tdata-clipboard-target=\"#schedule-table\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tCopy Table to Clipboard\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t\t<div className=\"table-responsive\">\r\n\t\t\t\t<table>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{props.data.map((r, i) => (\r\n\t\t\t\t\t\t\t<tr key={i}>\r\n\t\t\t\t\t\t\t\t{props.cols.map((c) => (\r\n\t\t\t\t\t\t\t\t\t<td className=\"td\" key={c.key}>\r\n\t\t\t\t\t\t\t\t\t\t{r[c.key]}\r\n\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default OutTable;\r\n"]},"metadata":{},"sourceType":"module"}